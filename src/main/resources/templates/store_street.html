<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:c="http://www.w3.org/1999/XSL/Transform">
<head>
    <title>美食街</title>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link th:href="@{/static/layui/css/layui.css}" rel="stylesheet" media="all">
    <link th:href="@{/static/css/common.css}" rel="stylesheet">
    <link th:href="@{/static/css/login.css}" rel="stylesheet">
    <link th:href="@{/static/css/store_street.css}" rel="stylesheet">


</head>
<body>
<!--······················导航栏···························-->
<div class="layui-layout layui-layout-admin">
    <div class="layui-header">
        <div class="layui-logo" style="text-shadow: 3px 3px 2px #ffbf00;font-size: 25px;font-family:arial;color: #ff6600;">EatingWhat2.0</div>
        <!-- 头部区域（可配合layui已有的水平导航） -->
        <ul class="layui-nav layui-layout-left">
            <li class="layui-nav-item"><a th:href="@{/customer/toHome}">HOME</a></li>
            <li class="layui-nav-item"><a th:href="@{/store/toStreet}">美食街</a></li>
            <li class="layui-nav-item">
                <a th:href="@{/customer/toOrderingCheck}">我的订单</a>
                <dl class="layui-nav-child">
                    <dd><a th:href="@{/ordering/toOrderingCheck}">查看订单</a></dd>
                </dl>
            </li>
        </ul>



        <!--未登陆-->
        <span th:if="${session.loginBean==null}">
            <ul class="layui-nav layui-layout-right">
                <li class="layui-nav-item">
                    <dd><a th:href="@{/customer/toLogin}">登陆/注册</a></dd>
                </li>
            </ul>
        </span>


        <!--登陆成功-->
        <span th:if="${session.loginBean!=null}">
            <ul class="layui-nav layui-layout-right">
                <li class="layui-nav-item">
                    <a href="javascript:;">
                         <img th:src="@{/static/upload/{loginBeanImageName}(loginBeanImageName=${session.loginBean.image})}" class="layui-nav-img">
                        <span th:text="${session.loginBean.name}"></span>
                    </a>
                    <dl class="layui-nav-child">
                        <dd><a th:href="@{/customer/toCustomerInfo}">个人信息</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item"><a th:href="@{/customer/logout}">注销</a></li>
            </ul>
        </span>

    </div>
</div>
<!--······················导航栏结束···························-->

<div  style="width: 75%;margin:0px auto; " >
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 10px;">
        <legend>美食街</legend>
    </fieldset>
    <div style="width: 100%;display: flex; justify-content: center;">
        <!-- 左边内容-->

        <!--需要加这句才可以实现动画-->
        <div class="site-doc-icon site-doc-anim">
            <table style="width: 800px;border-collapse:separate; border-spacing:10px 10px;">
                <tr>
                    <td style="width: 385px;height: 280px;background-color:#FFD700;"><img height="100%" width="100%" th:src="@{/static/images/麦当劳1.jpg}"></td>
                    <td style="width: 385px;height: 280px;background-color:#FFD700;"><img  width="100%" th:src="@{/static/images/探鱼1.jpg}"></td>
                </tr>





                    <tr  th:each="item: ${allStore}">
                        <td colspan="2" style="height: 100px;">

                            <div class="store layui-anim" data-anim="layui-anim-upbit" th:value="${item.id}">
                                <div class="left" style="align-content: center;">
                                    <img height="80px;" width="80px" style="border-radius: 10px;overflow: hidden;" th:src="@{/static/images/{logoName}(logoName=${item.logo})}">
                                </div>
                                <div class="middle">
                                    <div class="t1">[[${item.name}]]</div>
                                    <div class="t2">[[${item.address}]]</div>
                                    <div class="t3">[[${item.describle}]]</div>
                                </div>
                                <div class="right">[[${item.storeMark}]]星</div>
                            </div>


                        </td>
                    </tr>


            </table>
        </div>

    </div>


</div>


<!-- JavaScript 放置在文档最后面可以使页面加载速度更快 -->
<script th:src="@{/static/layui/layui.js}" charset="utf-8"></script>
<script th:src="@{/static/js/jquery-3.4.1.min.js}" charset="utf-8"></script>

<script>
    <!--导航栏的下拉菜单-->
    layui.use('element', function(){
        var element = layui.element;
    });

    <!--jq实现跳转-->
    $(function(){

        $(".store").click(function(){

            var storeId=$(this).attr('value');

            $(location).attr('href', '/store/enterStoreBystoreId?storeId='+storeId);

        });

        $("#search_submint").click(function () {
            $(location).attr('href', '${ctx}/store/search?storeNameLike='+$("#search").val());
        });

    });
</script>



<script>
    layui.use('jquery', function () {
        var $ = layui.jquery;
        //演示动画开始
        //可以在这里修改触发动画的事件
        $('.site-doc-icon .layui-anim').click(function(){
            var othis = $(this), anim = othis.data('anim');

            //停止循环
            if(othis.hasClass('layui-anim-loop')){
                return othis.removeClass(anim);
            }
            othis.removeClass(anim);
            setTimeout(function(){
                othis.addClass(anim);
            });
            //恢复渐隐
            if(anim === 'layui-anim-fadeout'){
                setTimeout(function(){
                    othis.removeClass(anim);
                }, 1300);
            }
        });
        //演示动画结束
    })
</script>

</body>
</html>